"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[256],{256:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var l=a(665),c=a(826);const n=({photos:e})=>{const[t,a]=(0,l.useState)(0);return l.createElement("div",{className:"profile-photos"},e.map(((e,a)=>l.createElement("img",{key:e,src:e,alt:`\u0424\u043e\u0442\u043e ${a+1}`,className:a===t?"active":""}))),l.createElement("div",{className:"photo-navigation"},l.createElement("button",{className:"photo-nav-button prev",onClick:()=>{a((t=>(t-1+e.length)%e.length))},disabled:e.length<=1},"\u2190"),l.createElement("div",{className:"photo-indicators"},e.map(((e,c)=>l.createElement("div",{key:c,className:"photo-indicator "+(c===t?"active":""),onClick:()=>a(c)})))),l.createElement("button",{className:"photo-nav-button next",onClick:()=>{a((t=>(t+1)%e.length))},disabled:e.length<=1},"\u2192")))},s=({profile:e,onLike:t,onDislike:a})=>l.createElement("div",{className:"profile-info"},l.createElement("h2",null,e.name,", ",e.age),e.location.city&&l.createElement("p",{className:"location"},e.location.city),l.createElement("p",{className:"bio"},e.bio),e.interests.length>0&&l.createElement("div",{className:"interests"},e.interests.map((e=>l.createElement("span",{key:e,className:"interest-tag"},e)))),l.createElement("div",{className:"profile-actions"},l.createElement("button",{className:"dislike-button",onClick:a},"\u2715"),l.createElement("button",{className:"like-button",onClick:t},"\u2665"))),i=({matches:e,onMatchClick:t})=>0===e.length?l.createElement("div",{className:"no-matches"},l.createElement("h2",null,"\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439"),l.createElement("p",null,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0439\u0442\u0435 \u0438\u0441\u043a\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0441\u0432\u043e\u044e \u043f\u0430\u0440\u0443!")):l.createElement("div",{className:"matches-section"},l.createElement("h3",null,"\u0412\u0430\u0448\u0438 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f"),l.createElement("div",{className:"matches-grid"},e.map((e=>l.createElement("div",{key:e.id,className:"match-item",onClick:()=>t(e.id)},l.createElement("div",{className:"match-avatar"},l.createElement("img",{src:e.profiles[0].photos[0],alt:e.profiles[0].name})),l.createElement("div",{className:"match-info"},l.createElement("h4",null,e.profiles[0].name),l.createElement("p",null,e.profiles[0].age," \u043b\u0435\u0442"))))))),r=()=>{const[e,t]=(0,l.useState)(null),[a,r]=(0,l.useState)([]),[o,m]=(0,l.useState)(!0),[d,h]=(0,l.useState)(null);(0,l.useEffect)((()=>{u()}),[]);const u=async()=>{try{m(!0),h(null);const[e,a]=await Promise.all([c.default.getPotentialMatches(),c.default.getMatches()]);e.length>0&&t(e[0]),r(a)}catch(e){h("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"),console.error(e)}finally{m(!1)}};return o?l.createElement("div",{className:"loading"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):d?l.createElement("div",{className:"error"},d):e?l.createElement("div",{className:"dating-screen"},l.createElement("div",{className:"profile-card"},l.createElement(n,{photos:e.photos}),l.createElement(s,{profile:e,onLike:async()=>{if(e)try{await c.default.likeProfile(e.id),u()}catch(t){h("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043b\u0430\u0439\u043a"),console.error(t)}},onDislike:async()=>{if(e)try{await c.default.dislikeProfile(e.id),u()}catch(t){h("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0434\u0438\u0437\u043b\u0430\u0439\u043a"),console.error(t)}}})),l.createElement(i,{matches:a,onMatchClick:async e=>{try{await c.default.acceptMatch(e),u()}catch(t){h("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435"),console.error(t)}}})):l.createElement("div",{className:"no-matches"},l.createElement("h2",null,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439"),l.createElement("p",null,"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u043b\u0438 \u0432\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043f\u043e\u0437\u0436\u0435"))}},826:(e,t,a)=>{a.r(t),a.d(t,{datingService:()=>c,default:()=>n});var l=a(696);const c=new class{async getProfile(){return(await l.default.get("/dating/profile")).data}async updateProfile(e){return(await l.default.patch("/dating/profile",e)).data}async getPotentialMatches(){return(await l.default.get("/dating/potential-matches")).data}async likeProfile(e){await l.default.post(`/dating/like/${e}`)}async dislikeProfile(e){await l.default.post(`/dating/dislike/${e}`)}async getMatches(){return(await l.default.get("/dating/matches")).data}async acceptMatch(e){await l.default.post(`/dating/matches/${e}/accept`)}async rejectMatch(e){await l.default.post(`/dating/matches/${e}/reject`)}},n=c}}]);
//# sourceMappingURL=256.43e43a2b.chunk.js.map