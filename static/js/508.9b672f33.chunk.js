"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[508],{508:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n=a(665),l=a(195),c=a(826);const s=()=>{const[e,t]=(0,n.useState)(null),[a,s]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!0),[o,m]=(0,n.useState)(""),[u,h]=(0,n.useState)({}),{user:p}=(0,l.useAuth)(),[E,d]=(0,n.useState)("profile"),{theme:g,toggleTheme:v}=(()=>{const[e,t]=(0,n.useState)((()=>localStorage.getItem("theme")||"light"));return(0,n.useEffect)((()=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)}),[e]),{theme:e,toggleTheme:()=>{t((e=>"light"===e?"dark":"light"))}}})(),[f,y]=(0,n.useState)({notifications:!0,darkMode:"dark"===g,language:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",privacy:{showOnline:!0,showLastSeen:!0,showDistance:!0}});(0,n.useEffect)((()=>{b()}),[]);const b=async()=>{try{i(!0);const e=await c.datingService.getProfile();t(e),h(e)}catch(e){m("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f")}finally{i(!1)}},N=e=>{const{name:t,value:a}=e.target;h((e=>({...e,[t]:a})))};return r?n.createElement("div",{className:"loading"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):o?n.createElement("div",{className:"error"},o):n.createElement("div",{className:"profile-screen"},n.createElement("div",{className:"profile-header"},n.createElement("h2",null,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),a?n.createElement("div",{className:"edit-actions"},n.createElement("button",{onClick:async()=>{try{i(!0),await c.datingService.updateProfile(u);const e=await c.datingService.getProfile();t(e),s(!1)}catch(e){m("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f")}finally{i(!1)}},className:"save-button"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),n.createElement("button",{onClick:()=>{s(!1),h(e||{})},className:"cancel-button"},"\u041e\u0442\u043c\u0435\u043d\u0430")):n.createElement("button",{onClick:()=>{s(!0)},className:"edit-button"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),n.createElement("div",{className:"profile-content"},n.createElement("div",{className:"profile-photos"},n.createElement("h3",null,"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438"),n.createElement("div",{className:"photos-grid"},a?n.createElement(n.Fragment,null,u.photos?.map(((e,t)=>n.createElement("div",{key:t,className:"photo-item"},n.createElement("img",{src:e,alt:`\u0424\u043e\u0442\u043e ${t+1}`}),n.createElement("button",{onClick:()=>(e=>{h((t=>({...t,photos:t.photos?.filter(((t,a)=>a!==e))})))})(t),className:"remove-photo-button"},"\u2715")))),n.createElement("label",{className:"add-photo-button"},n.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files;if(t&&t.length>0){const e=Array.from(t).map((e=>URL.createObjectURL(e)));h((t=>({...t,photos:[...t.photos||[],...e]})))}},style:{display:"none"}}),n.createElement("div",{className:"add-photo-placeholder"},n.createElement("span",null,"+"),n.createElement("p",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e")))):e?.photos?.map(((e,t)=>n.createElement("div",{key:t,className:"photo-item"},n.createElement("img",{src:e,alt:`\u0424\u043e\u0442\u043e ${t+1}`})))))),n.createElement("div",{className:"profile-info"},n.createElement("div",{className:"info-group"},n.createElement("label",null,"\u0418\u043c\u044f"),a?n.createElement("input",{type:"text",name:"name",value:u.name||"",onChange:N}):n.createElement("p",null,e?.name)),n.createElement("div",{className:"info-group"},n.createElement("label",null,"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"),a?n.createElement("input",{type:"number",name:"age",value:u.age||"",onChange:N}):n.createElement("p",null,e?.age," \u043b\u0435\u0442")),n.createElement("div",{className:"info-group"},n.createElement("label",null,"\u041e \u0441\u0435\u0431\u0435"),a?n.createElement("textarea",{name:"bio",value:u.bio||"",onChange:N}):n.createElement("p",null,e?.bio)),n.createElement("div",{className:"info-group"},n.createElement("label",null,"\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u044b"),a?n.createElement("input",{type:"text",name:"interests",value:u.interests?.join(", ")||"",onChange:e=>{const t=e.target.value.split(",").map((e=>e.trim()));h((e=>({...e,interests:t})))},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u044b \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e"}):n.createElement("div",{className:"interests-list"},e?.interests?.map(((e,t)=>n.createElement("span",{key:t,className:"interest-tag"},e))))),n.createElement("div",{className:"info-group"},n.createElement("label",null,"\u041f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u044f"),a?n.createElement("div",{className:"preferences-form"},n.createElement("div",{className:"preference-group"},n.createElement("label",null,n.createElement("input",{type:"checkbox",name:"showLocation",checked:u.preferences?.showLocation,onChange:e=>h((t=>({...t,preferences:{...t.preferences,showLocation:e.target.checked}})))}),"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435")),n.createElement("div",{className:"preference-group"},n.createElement("label",null,n.createElement("input",{type:"checkbox",name:"allowMessages",checked:u.preferences?.allowMessages,onChange:e=>h((t=>({...t,preferences:{...t.preferences,allowMessages:e.target.checked}})))}),"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"))):n.createElement("div",{className:"preferences-list"},n.createElement("p",null,e?.preferences?.showLocation?"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432\u0438\u0434\u043d\u043e":"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u044b\u0442\u043e"),n.createElement("p",null,e?.preferences?.allowMessages?"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b":"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u044b"))))),n.createElement("div",{className:"profile-tabs"},n.createElement("button",{className:"tab-button "+("profile"===E?"active":""),onClick:()=>d("profile")},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),n.createElement("button",{className:"tab-button "+("settings"===E?"active":""),onClick:()=>d("settings")},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),n.createElement("button",{className:"tab-button "+("security"===E?"active":""),onClick:()=>d("security")},"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c")),"settings"===E&&n.createElement("div",{className:"settings-content"},n.createElement("div",{className:"settings-section"},n.createElement("h3",null,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),n.createElement("div",{className:"setting-item"},n.createElement("span",null,"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),n.createElement("label",{className:"switch"},n.createElement("input",{type:"checkbox",checked:f.notifications,onChange:()=>y({...f,notifications:!f.notifications})}),n.createElement("span",{className:"slider"}))),n.createElement("div",{className:"setting-item"},n.createElement("span",null,"\u0422\u0435\u043c\u043d\u0430\u044f \u0442\u0435\u043c\u0430"),n.createElement("label",{className:"switch"},n.createElement("input",{type:"checkbox",checked:"dark"===g,onChange:()=>{v(),y({...f,darkMode:!f.darkMode})}}),n.createElement("span",{className:"slider"}))),n.createElement("div",{className:"setting-item"},n.createElement("span",null,"\u042f\u0437\u044b\u043a"),n.createElement("select",{value:f.language,onChange:e=>y({...f,language:e.target.value})},n.createElement("option",{value:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"),n.createElement("option",{value:"English"},"English")))),n.createElement("div",{className:"settings-section"},n.createElement("h3",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0438"),n.createElement("div",{className:"setting-item"},n.createElement("span",null,"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043e\u043d\u043b\u0430\u0439\u043d \u0441\u0442\u0430\u0442\u0443\u0441"),n.createElement("label",{className:"switch"},n.createElement("input",{type:"checkbox",checked:f.privacy.showOnline,onChange:()=>y({...f,privacy:{...f.privacy,showOnline:!f.privacy.showOnline}})}),n.createElement("span",{className:"slider"}))),n.createElement("div",{className:"setting-item"},n.createElement("span",null,"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u0435"),n.createElement("label",{className:"switch"},n.createElement("input",{type:"checkbox",checked:f.privacy.showLastSeen,onChange:()=>y({...f,privacy:{...f.privacy,showLastSeen:!f.privacy.showLastSeen}})}),n.createElement("span",{className:"slider"}))),n.createElement("div",{className:"setting-item"},n.createElement("span",null,"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435"),n.createElement("label",{className:"switch"},n.createElement("input",{type:"checkbox",checked:f.privacy.showDistance,onChange:()=>y({...f,privacy:{...f.privacy,showDistance:!f.privacy.showDistance}})}),n.createElement("span",{className:"slider"}))))),"security"===E&&n.createElement("div",{className:"security-content"},n.createElement("div",{className:"security-section"},n.createElement("h3",null,"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),n.createElement("button",{className:"security-button"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},n.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),n.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))),n.createElement("button",{className:"security-button"},"\u0414\u0432\u0443\u0445\u0444\u0430\u043a\u0442\u043e\u0440\u043d\u0430\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f",n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},n.createElement("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}))),n.createElement("button",{className:"security-button"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0432\u0445\u043e\u0434\u043e\u0432",n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},n.createElement("path",{d:"M12 8v4l3 3"}),n.createElement("circle",{cx:"12",cy:"12",r:"10"})))),n.createElement("div",{className:"security-section"},n.createElement("h3",null,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u043c\u0438"),n.createElement("button",{className:"security-button"},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u043c\u043e\u0438 \u0434\u0430\u043d\u043d\u044b\u0435",n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},n.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.createElement("polyline",{points:"7 10 12 15 17 10"}),n.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))),n.createElement("button",{className:"security-button danger"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442",n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},n.createElement("path",{d:"M3 6h18"}),n.createElement("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),n.createElement("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}))))),n.createElement("button",{className:"logout-button",onClick:()=>{console.log("\u0412\u044b\u0445\u043e\u0434 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430")}},"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},n.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.createElement("polyline",{points:"16 17 21 12 16 7"}),n.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"}))))}},826:(e,t,a)=>{a.r(t),a.d(t,{datingService:()=>l,default:()=>c});var n=a(696);const l=new class{async getProfile(){return(await n.default.get("/dating/profile")).data}async updateProfile(e){return(await n.default.patch("/dating/profile",e)).data}async getPotentialMatches(){return(await n.default.get("/dating/potential-matches")).data}async likeProfile(e){await n.default.post(`/dating/like/${e}`)}async dislikeProfile(e){await n.default.post(`/dating/dislike/${e}`)}async getMatches(){return(await n.default.get("/dating/matches")).data}async acceptMatch(e){await n.default.post(`/dating/matches/${e}/accept`)}async rejectMatch(e){await n.default.post(`/dating/matches/${e}/reject`)}},c=l}}]);
//# sourceMappingURL=508.9b672f33.chunk.js.map