{"ast":null,"code":"import React,{Suspense,lazy}from'react';import{HashRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{AuthProvider,useAuth}from'./contexts/AuthContext';import MapScreen from'./components/MapScreen';import Loading from'./components/Loading';import'./styles/themes.css';import'./App.css';// Ленивая загрузка компонентов\nconst Login=/*#__PURE__*/lazy(()=>import('./components/Login'));const Register=/*#__PURE__*/lazy(()=>import('./components/Register'));const DatingScreen=/*#__PURE__*/lazy(()=>import('./components/DatingScreen'));const ProfileScreen=/*#__PURE__*/lazy(()=>import('./components/ProfileScreen'));const ChatScreen=/*#__PURE__*/lazy(()=>import('./components/ChatScreen'));const StreamsScreen=/*#__PURE__*/lazy(()=>import('./components/StreamsScreen'));const LocationScreen=/*#__PURE__*/lazy(()=>import('./components/LocationScreen'));const App=()=>{const{user}=useAuth();return/*#__PURE__*/React.createElement(AuthProvider,null,/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(Suspense,{fallback:/*#__PURE__*/React.createElement(Loading,null)},/*#__PURE__*/React.createElement(Routes,null,!user?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Route,{path:\"/login\",element:/*#__PURE__*/React.createElement(Login,null)}),/*#__PURE__*/React.createElement(Route,{path:\"/register\",element:/*#__PURE__*/React.createElement(Register,null)}),/*#__PURE__*/React.createElement(Route,{path:\"*\",element:/*#__PURE__*/React.createElement(Navigate,{to:\"/login\",replace:true})})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Route,{path:\"/map\",element:/*#__PURE__*/React.createElement(MapScreen,null)}),/*#__PURE__*/React.createElement(Route,{path:\"/dating\",element:/*#__PURE__*/React.createElement(DatingScreen,null)}),/*#__PURE__*/React.createElement(Route,{path:\"/profile\",element:/*#__PURE__*/React.createElement(ProfileScreen,null)}),/*#__PURE__*/React.createElement(Route,{path:\"/chat\",element:/*#__PURE__*/React.createElement(ChatScreen,null)}),/*#__PURE__*/React.createElement(Route,{path:\"/chats/:id\",element:/*#__PURE__*/React.createElement(ChatScreen,null)}),/*#__PURE__*/React.createElement(Route,{path:\"/streams\",element:/*#__PURE__*/React.createElement(StreamsScreen,null)}),/*#__PURE__*/React.createElement(Route,{path:\"/location\",element:/*#__PURE__*/React.createElement(LocationScreen,null)}),/*#__PURE__*/React.createElement(Route,{path:\"/\",element:/*#__PURE__*/React.createElement(Navigate,{to:\"/map\",replace:true})}),/*#__PURE__*/React.createElement(Route,{path:\"*\",element:/*#__PURE__*/React.createElement(Navigate,{to:\"/map\",replace:true})}))))))));};export default App;","map":{"version":3,"names":["React","Suspense","lazy","HashRouter","Router","Routes","Route","Navigate","AuthProvider","useAuth","MapScreen","Loading","Login","Register","DatingScreen","ProfileScreen","ChatScreen","StreamsScreen","LocationScreen","App","user","createElement","className","fallback","Fragment","path","element","to","replace"],"sources":["C:/Users/Maks/Desktop/Amoo App/amoo-app/src/App.tsx"],"sourcesContent":["import React, { Suspense, lazy } from 'react';\r\nimport { HashRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\r\nimport ProtectedRoute from './components/ProtectedRoute';\r\nimport MapScreen from './components/MapScreen';\r\nimport Loading from './components/Loading';\r\nimport './styles/themes.css';\r\nimport './App.css';\r\n\r\n// Ленивая загрузка компонентов\r\nconst Login = lazy(() => import('./components/Login'));\r\nconst Register = lazy(() => import('./components/Register'));\r\nconst DatingScreen = lazy(() => import('./components/DatingScreen'));\r\nconst ProfileScreen = lazy(() => import('./components/ProfileScreen'));\r\nconst ChatScreen = lazy(() => import('./components/ChatScreen'));\r\nconst StreamsScreen = lazy(() => import('./components/StreamsScreen'));\r\nconst LocationScreen = lazy(() => import('./components/LocationScreen'));\r\n\r\nconst App: React.FC = () => {\r\n  const { user } = useAuth();\r\n\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <div className=\"app\">\r\n          <div className=\"content\">\r\n            <Suspense fallback={<Loading />}>\r\n              <Routes>\r\n                {!user ? (\r\n                  <>\r\n                    <Route path=\"/login\" element={<Login />} />\r\n                    <Route path=\"/register\" element={<Register />} />\r\n                    <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Route path=\"/map\" element={<MapScreen />} />\r\n                    <Route path=\"/dating\" element={<DatingScreen />} />\r\n                    <Route path=\"/profile\" element={<ProfileScreen />} />\r\n                    <Route path=\"/chat\" element={<ChatScreen />} />\r\n                    <Route path=\"/chats/:id\" element={<ChatScreen />} />\r\n                    <Route path=\"/streams\" element={<StreamsScreen />} />\r\n                    <Route path=\"/location\" element={<LocationScreen />} />\r\n                    <Route path=\"/\" element={<Navigate to=\"/map\" replace />} />\r\n                    <Route path=\"*\" element={<Navigate to=\"/map\" replace />} />\r\n                  </>\r\n                )}\r\n              </Routes>\r\n            </Suspense>\r\n          </div>\r\n        </div>\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}